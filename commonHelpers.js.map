{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/img/error.svg","../src/main.js"],"sourcesContent":["// функції для HTTP-запитів\n\nexport default function getPictures(name) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '42676798-23985956bba61249a12f13dde';\n\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${name}&image_type=photo&orientation=horizontal&safesearch =true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(`Error ${res.statusText}`);\n    }\n\n    return res.json();\n  });\n}\n","// функції для відображення елементів інтерфейсу\nexport default function renderGallery(array, element, loader) {\n  const galleryMarkup = array.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\"\n              ><img\n                class=\"gallery-img\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                width=\"360\"\n                height=\"152\"\n            /></a>\n            <ul class=\"data-list\">\n              <li class=\"data-item likes\">\n                <p class=\"data-name\">Likes</p>\n                <p class=\"data-value\">${likes}</p>\n              </li>\n              <li class=\"data-item views\">\n                <p class=\"data-name\">Views</p>\n                <p class=\"data-value\">${views}</p>\n              </li>\n              <li class=\"data-item comments\">\n                <p class=\"data-name\">Comments</p>\n                <p class=\"data-value\">${comments}</p>\n              </li>\n              <li class=\"data-item downloads\">\n                <p class=\"data-name\">Downloads</p>\n                <p class=\"data-value\">${downloads}</p>\n              </li>\n            </ul>\n          </li>\n`\n    )\n    .join('');\n\n  element.insertAdjacentHTML('beforeend', galleryMarkup);\n\n  loader.classList.add('hidden');\n  element.classList.remove('hidden');\n}\n","export default \"__VITE_ASSET__8479b7dd__\"","// imports\nimport getPictures from './js/pixabay-api';\nimport renderGallery from './js/render-function';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport errorIcon from './img/error.svg';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n// search pictures\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(e) {\n  e.preventDefault();\n\n  clearGallery();\n\n  const form = e.target;\n  const searchTag = form.elements.tag.value.trim();\n\n  if (searchTag === '') {\n    iziToast.show({\n      message: 'Sorry, enter the tag',\n      messageColor: '#fafafb',\n      messageSize: '16px',\n\n      iconUrl: errorIcon,\n\n      position: 'topRight',\n      backgroundColor: '#ef4040',\n    });\n\n    return;\n  }\n\n  showLoader();\n\n  getPictures(searchTag)\n    .then(res => {\n      if (res.hits.length === 0) {\n        hideLoader();\n\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n\n          iconUrl: errorIcon,\n\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n        });\n      } else {\n        renderGallery(res, gallery, loader);\n\n        lightbox.refresh();\n      }\n    })\n    .catch(err => err);\n\n  searchForm.reset();\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n  gallery.classList.add('hidden');\n}\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\n// event on gallery\ngallery.addEventListener('click', handleLinkClick);\n\nfunction handleLinkClick(event) {\n  // event.preventDefault();\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n}\n"],"names":["getPictures","name","res","renderGallery","array","element","loader","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","errorIcon","searchForm","gallery","lightbox","SimpleLightbox","handleSearch","e","clearGallery","searchTag","iziToast","showLoader","hideLoader","err","handleLinkClick","event"],"mappings":"6vBAEe,SAASA,EAAYC,EAAM,CAIxC,OAAO,MACL,qEAAgCA,CAAI,2DACxC,EAAI,KAAKC,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,SAASA,EAAI,UAAU,EAAE,EAG3C,OAAOA,EAAI,MACf,CAAG,CACH,CCde,SAASC,EAAcC,EAAOC,EAASC,EAAQ,CAC5D,MAAMC,EAAgBH,EAAM,KACzB,IACC,CAAC,CACC,aAAAI,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,4CAEgCL,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAOaC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,CAK5C,EACA,KAAK,EAAE,EAEVT,EAAQ,mBAAmB,YAAaE,CAAa,EAErDD,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAQ,UAAU,OAAO,QAAQ,CACnC,CCjDA,MAAeU,EAAA,2CCYTC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,eAAe,EAChDX,EAAS,SAAS,cAAc,SAAS,EACzCY,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAGDH,EAAW,iBAAiB,SAAUI,CAAY,EAElD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhBC,IAGA,MAAMC,EADOF,EAAE,OACQ,SAAS,IAAI,MAAM,OAE1C,GAAIE,IAAc,GAAI,CACpBC,EAAS,KAAK,CACZ,QAAS,uBACT,aAAc,UACd,YAAa,OAEb,QAAST,EAET,SAAU,WACV,gBAAiB,SACvB,CAAK,EAED,MACD,CAEDU,IAEAzB,EAAYuB,CAAS,EAClB,KAAKrB,GAAO,CACPA,EAAI,KAAK,SAAW,GACtBwB,IAEAF,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,YAAa,OAEb,QAAST,EAET,SAAU,WACV,gBAAiB,SAC3B,CAAS,IAEDZ,EAAcD,EAAKe,EAASX,CAAM,EAElCY,EAAS,QAAO,EAExB,CAAK,EACA,MAAMS,GAAOA,CAAG,EAEnBX,EAAW,MAAK,CAClB,CAEA,SAASM,GAAe,CACtBL,EAAQ,UAAY,GACpBA,EAAQ,UAAU,IAAI,QAAQ,CAChC,CAEA,SAASQ,GAAa,CACpBnB,EAAO,UAAU,OAAO,QAAQ,CAClC,CACA,SAASoB,GAAa,CACpBpB,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAGAW,EAAQ,iBAAiB,QAASW,CAAe,EAEjD,SAASA,EAAgBC,EAAO,CAE1BA,EAAM,OAAO,QAGnB"}